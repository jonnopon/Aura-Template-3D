(()=>{"use strict";var e,t,r,n={8761:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WorldManager=t.UIManager=t.TextureAtlas=t.TextManager=t.SystemBase=t.StateBase=t.VertexShader=t.ShaderProgram=t.FragmentShader=t.UniformVariation=t.UniformType=t.ShaderVariableResolver=t.Renderer=t.Vec4=t.Vec3=t.Vec2=t.Random=t.Mat4=t.Mat3=t.Color=t.Angle=t.Keys=t.InputManager=t.GLShape=t.Geometry=t.Entity=t.EntityManager=t.GameBase=t.AuraError=t.Texture=t.Shader=t.MultiColor=t.Model=t.FlatColor=t.Component=t.CameraBase=void 0;var n=r(3067);Object.defineProperty(t,"CameraBase",{enumerable:!0,get:function(){return n.CameraBase}});var o=r(744);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return o.Component}});var i=r(3300);Object.defineProperty(t,"FlatColor",{enumerable:!0,get:function(){return i.FlatColor}});var a=r(4496);Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return a.Model}});var s=r(1087);Object.defineProperty(t,"MultiColor",{enumerable:!0,get:function(){return s.MultiColor}});var u=r(7027);Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return u.Shader}});var c=r(4794);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return c.Texture}});var l=r(7350);Object.defineProperty(t,"AuraError",{enumerable:!0,get:function(){return l.AuraError}});var f=r(244);Object.defineProperty(t,"GameBase",{enumerable:!0,get:function(){return f.GameBase}});var d=r(5175);Object.defineProperty(t,"EntityManager",{enumerable:!0,get:function(){return d.EntityManager}});var p=r(3493);Object.defineProperty(t,"Entity",{enumerable:!0,get:function(){return p.Entity}});var h=r(1983);Object.defineProperty(t,"Geometry",{enumerable:!0,get:function(){return h.Geometry}});var y=r(5701);Object.defineProperty(t,"GLShape",{enumerable:!0,get:function(){return y.GLShape}});var m=r(7410);Object.defineProperty(t,"InputManager",{enumerable:!0,get:function(){return m.InputManager}});var v=r(4888);Object.defineProperty(t,"Keys",{enumerable:!0,get:function(){return v.Keys}});var _=r(5218);Object.defineProperty(t,"Angle",{enumerable:!0,get:function(){return _.Angle}});var g=r(5074);Object.defineProperty(t,"Color",{enumerable:!0,get:function(){return g.Color}});var b=r(2305);Object.defineProperty(t,"Mat3",{enumerable:!0,get:function(){return b.Mat3}});var w=r(5693);Object.defineProperty(t,"Mat4",{enumerable:!0,get:function(){return w.Mat4}});var E=r(7209);Object.defineProperty(t,"Random",{enumerable:!0,get:function(){return E.Random}});var T=r(2250);Object.defineProperty(t,"Vec2",{enumerable:!0,get:function(){return T.Vec2}});var x=r(9037);Object.defineProperty(t,"Vec3",{enumerable:!0,get:function(){return x.Vec3}});var O=r(1647);Object.defineProperty(t,"Vec4",{enumerable:!0,get:function(){return O.Vec4}});var A=r(2452);Object.defineProperty(t,"Renderer",{enumerable:!0,get:function(){return A.Renderer}});var P=r(4797);Object.defineProperty(t,"ShaderVariableResolver",{enumerable:!0,get:function(){return P.ShaderVariableResolver}});var R=r(5047);Object.defineProperty(t,"UniformType",{enumerable:!0,get:function(){return R.UniformType}});var M=r(8488);Object.defineProperty(t,"UniformVariation",{enumerable:!0,get:function(){return M.UniformVariation}});var S=r(7948);Object.defineProperty(t,"FragmentShader",{enumerable:!0,get:function(){return S.FragmentShader}});var C=r(9240);Object.defineProperty(t,"ShaderProgram",{enumerable:!0,get:function(){return C.ShaderProgram}});var j=r(5149);Object.defineProperty(t,"VertexShader",{enumerable:!0,get:function(){return j.VertexShader}});var I=r(1778);Object.defineProperty(t,"StateBase",{enumerable:!0,get:function(){return I.StateBase}});var N=r(9144);Object.defineProperty(t,"SystemBase",{enumerable:!0,get:function(){return N.SystemBase}});var F=r(4307);Object.defineProperty(t,"TextManager",{enumerable:!0,get:function(){return F.TextManager}});var U=r(3368);Object.defineProperty(t,"TextureAtlas",{enumerable:!0,get:function(){return U.TextureAtlas}});var L=r(352);Object.defineProperty(t,"UIManager",{enumerable:!0,get:function(){return L.UIManager}});var V=r(4658);Object.defineProperty(t,"WorldManager",{enumerable:!0,get:function(){return V.WorldManager}})},3273:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7692:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var i=r(7515),a=r(7350),s=r(5693),u=r(9037),c=function(e){function t(t){var r,n,o,a,c=e.call(this,t)||this;return"orthographic"===t.projection.mode?c.projection=s.Mat4.ortho(-t.projection.width/2,t.projection.width/2,-t.projection.height/2,t.projection.height/2,t.projection.near,null!==(r=t.projection.far)&&void 0!==r?r:-t.projection.near):c.projection=s.Mat4.perspective(null!==(n=t.projection.fov)&&void 0!==n?n:90,t.projection.width/t.projection.height,t.projection.near,t.projection.far),c.transform=new i.Transform(null===(o=t.offset)||void 0===o?void 0:o.position,new u.Vec3(1,1,1),null===(a=t.offset)||void 0===a?void 0:a.angles),c}return o(t,e),t.prototype.attachTo=function(e,t){var r,n,o,i,s,u,c,l,f,d,p,h;try{this.following={transform:e.getComponent("Transform"),rules:{position:{x:null===(n=null===(r=null==t?void 0:t.position)||void 0===r?void 0:r.x)||void 0===n||n,y:null===(i=null===(o=null==t?void 0:t.position)||void 0===o?void 0:o.y)||void 0===i||i,z:null===(u=null===(s=null==t?void 0:t.position)||void 0===s?void 0:s.z)||void 0===u||u},angles:{x:null===(l=null===(c=null==t?void 0:t.angles)||void 0===c?void 0:c.x)||void 0===l||l,y:null===(d=null===(f=null==t?void 0:t.angles)||void 0===f?void 0:f.y)||void 0===d||d,z:null!==(h=null===(p=null==t?void 0:t.angles)||void 0===p?void 0:p.z)&&void 0!==h&&h}}}}catch(t){throw new a.AuraError({class:"Camera",method:"attachTo",message:"Failed to attach to entity with tag ".concat(e.tag," : the Entity lacks a Transform3D")})}},t.prototype.getViewMatrix=function(){var e,t;if(this.following){var r=this.following.transform;t=s.Mat4.scale(r.compute(),u.Vec3.invert(r.scale)),t=s.Mat4.translate(t,this.transform.position),t=s.Mat4.rotateX(t,this.transform.angles.x),t=s.Mat4.rotateY(t,this.transform.angles.y),t=s.Mat4.rotateZ(t,this.transform.angles.z)}else t=this.transform.compute();return null!==(e=s.Mat4.invert(t))&&void 0!==e?e:t},t.prototype.moveRight=function(e){this.transform.moveRight(e)},t.prototype.moveUp=function(e){this.transform.moveUp(e)},t.prototype.moveForward=function(e){this.transform.moveForward(e)},t.prototype.move=function(e){e.x&&this.moveRight(e.x),e.y&&this.moveUp(e.y),e.z&&this.moveForward(e.z)},t.prototype.translate=function(e){this.transform.translate(e)},t.prototype.rotateX=function(e){this.transform.rotateX(e)},t.prototype.rotateY=function(e){this.transform.rotateY(e)},t.prototype.rotateZ=function(e){this.transform.rotateZ(e)},t.prototype.rotate=function(e){this.transform.rotate(e)},t.prototype.zoom=function(e){this.transform.scaleBy(e)},t.prototype.zoomTo=function(e){this.transform.scaleTo(e)},t}(r(3067).CameraBase);t.Camera=c},3067:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CameraBase=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),e.prototype.detach=function(){this.following=void 0},e.prototype.reset=function(){this.transform.reset()},e}();t.CameraBase=r},7515:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Transform=void 0;var i=r(5693),a=r(9037),s=function(e){function t(t,r,n,o){void 0===t&&(t=new a.Vec3),void 0===r&&(r=new a.Vec3(1,1,1)),void 0===n&&(n=new a.Vec3),void 0===o&&(o=new a.Vec3);var i=e.call(this,"Transform")||this;return i.initialPosition=t,i.initialScale=r,i.initialAngles=n,i.velocity=o,i.position=new a.Vec3,i.forward=new a.Vec3(0,0,-1),i.up=new a.Vec3(0,1,0),i.right=new a.Vec3(1,0,0),i.scale=new a.Vec3(1,1,1),i.angles=new a.Vec3,i.translate(t),i.scaleTo(r),i.rotate(n),i}return o(t,e),t.prototype.moveRight=function(e){this.mutable.position=a.Vec3.add(this.position,a.Vec3.scale(this.right,e))},t.prototype.moveUp=function(e){this.mutable.position=a.Vec3.add(this.position,a.Vec3.scale(this.up,e))},t.prototype.moveForward=function(e){this.mutable.position=a.Vec3.add(this.position,a.Vec3.scale(this.forward,e))},t.prototype.move=function(e){e.x&&this.moveRight(e.x),e.y&&this.moveUp(e.y),e.z&&this.moveForward(e.z)},t.prototype.translate=function(e){this.mutable.position=a.Vec3.add(this.position,e)},t.prototype.rotateX=function(e){this.angles.setX(this.angles.x+e);var t=i.Mat4.fromAxisRotation(this.right,e);this.mutable.forward=a.Vec3.normalize(a.Vec3.transformByMat4(this.forward,t)),this.mutable.up=a.Vec3.normalize(a.Vec3.transformByMat4(this.up,t))},t.prototype.rotateY=function(e){this.angles.setY(this.angles.y+e);var t=i.Mat4.fromAxisRotation(this.up,e);this.mutable.forward=a.Vec3.normalize(a.Vec3.transformByMat4(this.forward,t)),this.mutable.right=a.Vec3.normalize(a.Vec3.transformByMat4(this.right,t))},t.prototype.rotateZ=function(e){this.angles.setZ(this.angles.z+e);var t=i.Mat4.fromAxisRotation(this.forward,e);this.mutable.up=a.Vec3.normalize(a.Vec3.transformByMat4(this.up,t)),this.mutable.right=a.Vec3.normalize(a.Vec3.transformByMat4(this.right,t))},t.prototype.rotate=function(e){e.x&&this.rotateX(e.x),e.y&&this.rotateY(e.y),e.z&&this.rotateZ(e.z)},t.prototype.scaleBy=function(e){this.mutable.scale=a.Vec3.mult(this.scale,e)},t.prototype.scaleTo=function(e){this.mutable.scale=e},t.prototype.reset=function(){this.mutable.right=new a.Vec3(1,0,0),this.mutable.up=new a.Vec3(0,1,0),this.mutable.forward=new a.Vec3(0,0,1),this.mutable.angles=new a.Vec3,this.mutable.position=new a.Vec3,this.mutable.scale=new a.Vec3(1,1,1),this.translate(this.initialPosition),this.scaleTo(this.initialScale),this.rotate(this.initialAngles)},t.prototype.compute=function(){return i.Mat4.scale(i.Mat4.lookAt(this.position,a.Vec3.add(this.position,this.forward),this.up),this.scale)},Object.defineProperty(t.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),t}(r(744).Component);t.Transform=s},744:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;t.Component=function(e){this.name=e}},3300:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FlatColor=void 0;var i=r(5074),a=function(e){function t(t){void 0===t&&(t=i.Color.white());var r=e.call(this,"FlatColor")||this;return r.color=t,r}return o(t,e),t}(r(744).Component);t.FlatColor=a},4496:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var i=function(e){function t(t){var r=e.call(this,"Model")||this;return r.geometry=t,r}return o(t,e),Object.defineProperty(t.prototype,"modelName",{get:function(){return this.geometry.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.vertices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertexSize",{get:function(){return this.geometry.vertexSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertexCount",{get:function(){return this.geometry.vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"glShape",{get:function(){return this.geometry.glShape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textureCoordinates",{get:function(){return this.geometry.textureCoordinates},enumerable:!1,configurable:!0}),t}(r(744).Component);t.Model=i},1087:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MultiColor=void 0;var i=function(e){function t(t){var r=e.call(this,"MultiColor")||this;return r.colors=t,r.currentColor=0,r}return o(t,e),t.prototype.nextColor=function(){var e=this.colors[this.currentColor++];return this.currentColor===this.colors.length&&(this.currentColor=0),e},t}(r(744).Component);t.MultiColor=i},7027:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Shader=void 0;var i=function(e){function t(t){var r=e.call(this,"Shader")||this;return r.program=t,r}return o(t,e),Object.defineProperty(t.prototype,"programName",{get:function(){return this.program.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertex",{get:function(){return this.program.vertex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragment",{get:function(){return this.program.fragment},enumerable:!1,configurable:!0}),t}(r(744).Component);t.Shader=i},4794:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Texture=void 0;var i=function(e){function t(t,r,n,o){void 0===n&&(n=1),void 0===o&&(o=1);var i=e.call(this,"Texture")||this;return i.column=t,i.row=r,i.columnSpan=n,i.rowSpan=o,i}return o(t,e),t}(r(744).Component);t.Texture=i},1223:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a=r(7147),s=r(9037),u=r(8836),c=r(6823),l=function(e){function t(t){var r,n,o,i,l,f,d,p,h,y,m,v,_,g,b,w=e.call(this,t)||this;return w.states=new Map,w.systems=new Map,w.text=new a.Text({renderer:w.renderer,charset:null!==(n=null===(r=null==t?void 0:t.text)||void 0===r?void 0:r.charset)&&void 0!==n?n:w.defaults.textCharset,textureAtlas:null!==(i=null===(o=null==t?void 0:t.text)||void 0===o?void 0:o.textureAtlas)&&void 0!==i?i:w.defaults.textAtlas}),w.ui=new u.UI({renderer:w.renderer,textureAtlas:null===(l=null==t?void 0:t.ui)||void 0===l?void 0:l.textureAtlas}),w.world=new c.World({renderer:w.renderer,dimensions:null!==(d=null===(f=null==t?void 0:t.world)||void 0===f?void 0:f.dimensions)&&void 0!==d?d:new s.Vec3(null===(p=w.canvas)||void 0===p?void 0:p.width,null===(h=w.canvas)||void 0===h?void 0:h.height,1e3),textureAtlas:null===(y=null==t?void 0:t.world)||void 0===y?void 0:y.textureAtlas,camera:{offset:null===(v=null===(m=null==t?void 0:t.world)||void 0===m?void 0:m.camera)||void 0===v?void 0:v.offset,projection:null!==(b=null===(g=null===(_=null==t?void 0:t.world)||void 0===_?void 0:_.camera)||void 0===g?void 0:g.projection)&&void 0!==b?b:{mode:"perspective",fov:90,near:.1,far:1e6,width:w.canvas.width,height:w.canvas.height}}}),w.renderer.setRenderingMode("3D"),w}return o(t,e),t.prototype.addState=function(e){this.states.set(e.name,e)},t.prototype.addStates=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this.addState(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.addSystem=function(e){this.systems.set(e.name,e)},t.prototype.addSystems=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this.addSystem(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},t.prototype.initState=function(){var e;null===(e=this.currentState)||void 0===e||e.init(this)},t.prototype.endState=function(){var e;null===(e=this.currentState)||void 0===e||e.end(this)},t.prototype.update=function(){var e,t=this;this.systems.forEach((function(e){e.tick(t,t.frameDelta)})),null===(e=this.currentState)||void 0===e||e.tick(this,this.frameDelta)},t}(r(244).GameBase);t.Game=l},7350:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AuraError=void 0;var o=function(e){function t(t){var r=e.call(this,"".concat(t.method,"() -> ").concat(t.message))||this;return r.name="".concat(t.class," Error"),r}return n(t,e),t}(Error);t.AuraError=o},244:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.GameBase=void 0;var o=r(7410),i=r(5074),a=r(2250),s=r(2452),u=r(3368),c=r(7350),l=function(){function e(e){var t,r,n,l,f,d;if(this.frameDelta=0,this.lastFrameTime=0,this.data=new Map,this.debugData={frameCount:0,fps:""},this.defaults={backgroundColor:i.Color.black(),canvasDimensions:new a.Vec2(window.innerWidth,window.innerHeight),canvasParent:document.body,controlScheme:"keyboard",textCharset:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","(",")","[","]","+","-","*","/","!","?","'",'"',"#","£","$","&","%","^",",",".",":",";","<",">","_"," ","~","~"],textAtlas:new u.TextureAtlas("text","res/font.png",2048,32,64,1)},this.stopped=!1,null==e?void 0:e.canvasId){if(this.canvas=document.getElementById(e.canvasId),!this.canvas)throw new c.AuraError({class:"Game",method:"construct",message:"Failed to retrieve Canvas with id ".concat(e.canvasId)})}else this.canvas=document.createElement("canvas"),((null==e?void 0:e.canvasParent)?"string"==typeof e.canvasParent?document.getElementById(e.canvasParent):e.canvasParent:this.defaults.canvasParent).append(this.canvas);this.canvas.width=null!==(r=null===(t=null==e?void 0:e.canvasDimensions)||void 0===t?void 0:t.x)&&void 0!==r?r:this.defaults.canvasDimensions.x,this.canvas.height=null!==(l=null===(n=null==e?void 0:e.canvasDimensions)||void 0===n?void 0:n.y)&&void 0!==l?l:this.defaults.canvasDimensions.y,this.renderer=new s.Renderer(this,null!==(f=null==e?void 0:e.backgroundColor)&&void 0!==f?f:this.defaults.backgroundColor),this.input=new o.InputManager(this.canvas,null!==(d=null==e?void 0:e.controlScheme)&&void 0!==d?d:this.defaults.controlScheme),this.debugMode=null==e?void 0:e.debugMode,this.init=null==e?void 0:e.init}return e.prototype.switchToState=function(e){if(this.endState(),this.currentState=this.states.get(e),!this.currentState)throw new c.AuraError({class:"Game",method:"switchToState",message:"Failed to switch to State '".concat(e,"' : State does not exist")});this.initState()},e.prototype.removeSystem=function(e){this.systems.delete(e)},e.prototype.removeSystems=function(){for(var e,t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{for(var i=n(r),a=i.next();!a.done;a=i.next()){var s=a.value;this.removeSystem(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.setData=function(e,t){this.data.set(e,t)},e.prototype.getData=function(e){var t=this.data.get(e);if(void 0===t)throw new c.AuraError({class:"Game",method:"getData",message:"Failed to retrieve data with key '".concat(e,"'")});return t},e.prototype.deleteData=function(e){this.data.delete(e)},e.prototype.registerShader=function(e){this.renderer.createShaderProgram(e)},e.prototype.start=function(e){var t;null===(t=this.init)||void 0===t||t.call(this),this.switchToState(e),this.run()},e.prototype.destroy=function(){var e;this.stopped=!0,this.renderer.destroy(),this.input.destroy(),null===(e=this.canvas)||void 0===e||e.remove(),this.canvas=void 0},e.prototype.run=function(){if(!this.stopped){var e=Date.now();this.frameDelta=e-this.lastFrameTime,this.lastFrameTime=e,this.update(),this.world.tick(this,this.frameDelta),this.ui.tick(this,this.frameDelta),this.text.tick(this,this.frameDelta),this.renderer.clearScreen(),this.world.render(),this.ui.render(),this.text.render(),this.debugMode&&(this.debugData.frameCount++,this.debugData.frameCount%10==0&&(this.debugData.frameCount=0,this.debugData.fps=(1e3/this.frameDelta).toFixed(1))),requestAnimationFrame(this.run.bind(this))}},e}();t.GameBase=l},3493:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=void 0;var a=r(7350),s=function(){function e(e){this.config=e,this.id=(+new Date).toString(16)+(1e7*Math.random()|0).toString(16),this.components=new Map,e.components&&this.addComponents.apply(this,o([],n(e.components),!1))}return Object.defineProperty(e.prototype,"tag",{get:function(){return this.config.tag},enumerable:!1,configurable:!0}),e.prototype.tick=function(e,t){},e.prototype.onCollisionStart=function(e,t){},e.prototype.onCollisionContinue=function(e,t){},e.prototype.onCollisionEnd=function(e,t){},e.prototype.getComponent=function(e){if(!this.hasComponent(e))throw new a.AuraError({class:"Entity",method:"getComponent",message:"Failed to retrieve Component ".concat(e," for Entity with tag ").concat(this.tag)});return this.components.get(e)},e.prototype.addComponent=function(e){this.components.set(e.name,e)},e.prototype.addComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this.addComponent(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.removeComponent=function(e){this.components.delete(e)},e.prototype.removeComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;this.removeComponent(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.hasComponent=function(e){return this.components.has(e)},e.prototype.hasComponents=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(!this.hasComponent(s))return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return!0},e}();t.Entity=s},5175:function(e,t,r){var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.EntityManager=void 0;var a=r(7350),s=r(4797),u=function(){function e(e){this.config=e,this.entities=[],this.renderableEntities=new Map,this.addList=[],this.removeList=[],this.vbos=new Map,this.entityFilterCache=new Map,this.sourcedEntityFilterCache=new Map,e.textureAtlas&&e.renderer.createTexture(e.textureAtlas)}return Object.defineProperty(e.prototype,"entityCount",{get:function(){return this.entities.length},enumerable:!1,configurable:!0}),e.prototype.addEntity=function(e){this.addList.push(e)},e.prototype.addEntities=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.addList=this.addList.concat(e)},e.prototype.removeEntity=function(e){this.removeList.push(e)},e.prototype.removeEntities=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeList=this.removeList.concat(e)},e.prototype.clearEntities=function(){this.removeEntities.apply(this,o([],n(this.entities),!1)),this.cleanEntities(),this.invalidateFilterCaches()},e.prototype.tick=function(e,t){var r,n,o=this.loadEntities(),a=this.cleanEntities();(o||a)&&this.invalidateFilterCaches();try{for(var s=i(this.entities),u=s.next();!u.done;u=s.next())u.value.tick(e,t)}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},e.prototype.render=function(){var e,t,r,o,a;try{for(var s=i(this.renderableEntities.entries()),u=s.next();!u.done;u=s.next()){var c=n(u.value,2),l=c[0],f=c[1];try{for(var d=(r=void 0,i(f)),p=d.next();!p.done;p=d.next()){var h=n(p.value,2),y=h[0],m=h[1],v=this.vbos.get("".concat(l,"_").concat(y));m.length&&v&&(this.config.renderer.render({vbo:v,shaderProgramName:l,textureAtlasName:null===(a=this.config.textureAtlas)||void 0===a?void 0:a.name,entities:m}),v.changed=!1)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.filterEntitiesByComponentName=function(e){return this.memoizeFilter(e,(function(t){return t.hasComponent(e)}))},e.prototype.filterEntitiesByComponentNames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.memoizeFilter(e.toString(),(function(t){return t.hasComponents.apply(t,o([],n(e),!1))}))},e.prototype.filterEntitiesByComponentNameFromSource=function(e,t,r){return this.memoizeFilter(r,(function(e){return e.hasComponent(r)}),t,e)},e.prototype.filterEntitiesByComponentNamesFromSource=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this.memoizeFilter(r.toString(),(function(e){return e.hasComponents.apply(e,o([],n(r),!1))}),t,e)},e.prototype.filterEntitiesByTag=function(e){return this.memoizeFilter(e,(function(t){return t.tag===e}))},e.prototype.filterEntitiesByTags=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.memoizeFilter(e.toString(),(function(t){return e.includes(t.tag)}))},e.prototype.loadEntities=function(){var e,t;if(this.addList.length){var r=new Set;try{for(var n=i(this.addList),o=n.next();!o.done;o=n.next()){var a=o.value;if(a.hasComponent("Shader")&&a.hasComponent("Model")){var s=a.getComponent("Shader").programName,u=a.getComponent("Model").modelName;r.add("".concat(s,"-").concat(u));var c=this.renderableEntities.get(s);if(c){var l=c.get(u);l?l.push(a):l=[a],c.set(u,l)}else(c=new Map).set(u,[a]);this.renderableEntities.set(s,c)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.compileVertices(r),this.entities=this.entities.concat(this.addList),this.addList=[],!0}return!1},e.prototype.cleanEntities=function(){var e,t;if(this.removeList.length){var r=new Set;try{for(var n=i(this.removeList),o=n.next();!o.done;o=n.next()){var a=o.value,s=this.entities.indexOf(a);if(!(s<0)&&(this.entities.splice(s,1),a.hasComponent("Shader")&&a.hasComponent("Model"))){var u=a.getComponent("Shader").programName,c=a.getComponent("Model").modelName,l=this.renderableEntities.get(u);if(l){var f=l.get(c);f&&(f.splice(f.indexOf(a),1),r.add("".concat(u,"-").concat(c)),f.length||l.delete(c),l.size||this.renderableEntities.delete(u))}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.compileVertices(r),this.removeList=[],!0}return!1},e.prototype.compileVertices=function(e){var t,r,n,o,u,c,l;try{for(var f=i(e),d=f.next();!d.done;d=f.next()){var p=d.value,h=p.substring(0,p.indexOf("-")),y=p.substring(p.indexOf("-")+1),m=null===(l=this.renderableEntities.get(h))||void 0===l?void 0:l.get(y),v="".concat(h,"_").concat(y),_="".concat(this.config.name,"_").concat(v);if(m&&m.length){this.vbos.get(v)||this.config.renderer.createVBO(_);var g=m[0].getComponent("Shader"),b=m[0].getComponent("Model"),w=b.glShape,E=b.vertexCount,T=Object.values(g.vertex.attributes).reduce((function(e,t){return{name:t.name,size:e.size+t.size}})).size,x=T*E,O=new Float32Array(m.length*x),A=0;try{for(var P=(n=void 0,i(m)),R=P.next();!R.done;R=P.next())for(var M=R.value,S=0,C=0,j=0;j<E;j++)try{for(var I=(u=void 0,i(g.vertex.attributes)),N=I.next();!N.done;N=I.next()){var F=N.value,U=s.ShaderVariableResolver.resolveAttribute(F.name,M);if("number"==typeof U)U=Float32Array.from([U]);else if("a_Position"===F.name)U=U.slice(S,S+F.size),S+=F.size;else if("a_TexCoord"===F.name){var L=this.config.textureAtlas;if(!L)throw new a.AuraError({class:"EntityManager",method:"compileVertices",message:"\n                                            Failed to render ".concat(this.config.name," Entity '").concat(M.tag,"' with texture shader: No Texture Atlas\n                                            was configured for ").concat(this.config.name," Entities\n                                        ")});var V=M.getComponent("Texture"),G=V.column,D=V.row,z=V.columnSpan,B=V.rowSpan;U=L.resolveTextureCoordinates(U.slice(C,C+2),G,D,z,B),C+=2}O.set(U,A),A+=F.size}}catch(e){u={error:e}}finally{try{N&&!N.done&&(c=I.return)&&c.call(I)}finally{if(u)throw u.error}}}catch(e){n={error:e}}finally{try{R&&!R.done&&(o=P.return)&&o.call(P)}finally{if(n)throw n.error}}this.vbos.set(v,{name:_,vertices:O,vertexCount:E,vertexSize:T,glShape:w,changed:!0})}else this.config.renderer.deleteVBO(_),this.vbos.delete(v)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}},e.prototype.memoizeFilter=function(e,t,r,n){void 0===n&&(n=this.entities);var o=this.entityFilterCache;r&&(e="".concat(e,"_").concat(r),o=this.sourcedEntityFilterCache);var i=o.get(e);return i||(i=n.filter(t),o.set(e,i)),i},e.prototype.invalidateFilterCaches=function(){this.entityFilterCache.clear(),this.sourcedEntityFilterCache.clear()},e}();t.EntityManager=u},7005:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CUBE=void 0;var n=r(1983),o=r(5701);t.CUBE=new n.Geometry({name:"cube",vertices:Float32Array.from([-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),vertexSize:3,vertexCount:36,glShape:o.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0])})},8948:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.F=void 0;var n=r(1983),o=r(5701);t.F=new n.Geometry({name:"f",vertices:Float32Array.from([-.5,-.5,.1,-.25,-.5,.1,-.25,.5,.1,-.25,.5,.1,-.5,.5,.1,-.5,-.5,.1,-.25,.25,.1,.5,.25,.1,.5,.5,.1,.5,.5,.1,-.25,.5,.1,-.25,.25,.1,-.25,-.15,.1,.2,-.15,.1,.2,.05,.1,.2,.05,.1,-.25,.05,.1,-.25,-.15,.1,-.5,-.5,-.1,-.5,.5,-.1,-.25,.5,-.1,-.25,.5,-.1,-.25,-.5,-.1,-.5,-.5,-.1,-.25,.25,-.1,-.25,.5,-.1,.5,.5,-.1,.5,.5,-.1,.5,.25,-.1,-.25,.25,-.1,-.25,-.15,-.1,-.25,.05,-.1,.2,.05,-.1,.2,.05,-.1,.2,-.15,-.1,-.25,-.15,-.1,-.5,-.5,.1,-.5,.5,.1,-.5,.5,-.1,-.5,.5,-.1,-.5,-.5,-.1,-.5,-.5,.1,-.25,-.5,.1,-.25,-.5,-.1,-.25,.5,-.1,-.25,.5,-.1,-.25,.5,.1,-.25,-.5,.1,-.5,-.5,-.1,-.25,-.5,-.1,-.25,-.5,.1,-.25,-.5,.1,-.5,-.5,.1,-.5,-.5,-.1,-.5,.5,.1,.5,.5,.1,.5,.5,-.1,.5,.5,-.1,-.5,.5,-.1,-.5,.5,.1,-.25,.25,-.1,.5,.25,-.1,.5,.25,.1,.5,.25,.1,-.25,.25,.1,-.25,.25,-.1,.5,.25,.1,.5,.25,-.1,.5,.5,-.1,.5,.5,-.1,.5,.5,.1,.5,.25,.1,-.25,.05,.1,.2,.05,.1,.2,.05,-.1,.2,.05,-.1,-.25,.05,-.1,-.25,.05,.1,-.25,-.15,-.1,.2,-.15,-.1,.2,-.15,.1,.2,-.15,.1,-.25,-.15,.1,-.25,-.15,-.1,.2,-.15,.1,.2,-.15,-.1,.2,.05,-.1,.2,.05,-.1,.2,.05,.1,.2,-.15,.1]),vertexSize:3,vertexCount:90,glShape:o.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},5775:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LINE=void 0;var n=r(1983),o=r(5701);t.LINE=new n.Geometry({name:"line",vertices:Float32Array.from([-.5,0,0,.5,0,0]),vertexSize:3,vertexCount:2,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([])})},4272:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OCTAHEDRON=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.OCTAHEDRON=new o.Geometry({name:"octahedron",vertices:Float32Array.from([0,-i,0,.5,0,.5,-.5,0,.5,0,-i,0,-.5,0,.5,-.5,0,-.5,0,-i,0,-.5,0,-.5,.5,0,-.5,0,-i,0,.5,0,-.5,.5,0,.5,0,i,0,-.5,0,.5,.5,0,.5,0,i,0,-.5,0,-.5,-.5,0,.5,0,i,0,.5,0,-.5,-.5,0,-.5,0,i,0,.5,0,.5,.5,0,-.5]),vertexSize:3,vertexCount:24,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},97:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.POINT=void 0;var n=r(1983),o=r(5701);t.POINT=new n.Geometry({name:"point",vertices:Float32Array.from([0,0,0]),vertexSize:3,vertexCount:1,glShape:o.GLShape.POINTS,textureCoordinates:Float32Array.from([])})},2025:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PRISM_HEXAGONAL=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PRISM_HEXAGONAL=new o.Geometry({name:"prism_hexagonal",vertices:Float32Array.from([-.25,-.5,-i,.25,-.5,-i,0,-.5,0,.25,-.5,-i,.5,-.5,0,0,-.5,0,.5,-.5,0,.25,-.5,i,0,-.5,0,.25,-.5,i,-.25,-.5,i,0,-.5,0,-.25,-.5,i,-.5,-.5,0,0,-.5,0,-.5,-.5,0,-.25,-.5,-i,0,-.5,0,-.25,.5,i,.25,.5,i,0,.5,0,.25,.5,i,.5,.5,0,0,.5,0,.5,.5,0,.25,.5,-i,0,.5,0,.25,.5,-i,-.25,.5,-i,0,.5,0,-.25,.5,-i,-.5,.5,0,0,.5,0,-.5,.5,0,-.25,.5,i,0,.5,0,-.25,-.5,i,.25,-.5,i,.25,.5,i,.25,.5,i,-.25,.5,i,-.25,-.5,i,.25,-.5,i,.5,-.5,0,.5,.5,0,.5,.5,0,.25,.5,i,.25,-.5,i,.5,-.5,0,.25,-.5,-i,.25,.5,-i,.25,.5,-i,.5,.5,0,.5,-.5,0,.25,-.5,-i,-.25,-.5,-i,-.25,.5,-i,-.25,.5,-i,.25,.5,-i,.25,-.5,-i,-.25,-.5,-i,-.5,-.5,0,-.5,.5,0,-.5,.5,0,-.25,.5,-i,-.25,-.5,-i,-.5,-.5,0,-.25,-.5,i,-.25,.5,i,-.25,.5,i,-.5,.5,0,-.5,-.5,0]),vertexSize:3,vertexCount:72,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},5210:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PRISM_TRIANGULAR=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PRISM_TRIANGULAR=new o.Geometry({name:"prism_triangular",vertices:Float32Array.from([-.5,-i,-.5,.5,-i,-.5,.5,-i,.5,.5,-i,.5,-.5,-i,.5,-.5,-i,-.5,-.5,-i,.5,.5,-i,.5,0,i,.5,.5,-i,-.5,-.5,-i,-.5,0,i,-.5,-.5,-i,-.5,-.5,-i,.5,0,i,.5,0,i,.5,0,i,-.5,-.5,-i,-.5,.5,-i,.5,.5,-i,-.5,0,i,-.5,0,i,-.5,0,i,.5,.5,-i,.5]),vertexSize:3,vertexCount:24,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},9489:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PYRAMID_HEXAGONAL=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PYRAMID_HEXAGONAL=new o.Geometry({name:"pyramid_hexagonal",vertices:Float32Array.from([-.25,-.5,-i,.25,-.5,-i,0,-.5,0,.25,-.5,-i,.5,-.5,0,0,-.5,0,.5,-.5,0,.25,-.5,i,0,-.5,0,.25,-.5,i,-.25,-.5,i,0,-.5,0,-.25,-.5,i,-.5,-.5,0,0,-.5,0,-.5,-.5,0,-.25,-.5,-i,0,-.5,0,-.25,-.5,i,.25,-.5,i,0,.5,0,.25,-.5,i,.5,-.5,0,0,.5,0,.5,-.5,0,.25,-.5,-i,0,.5,0,.25,-.5,-i,-.25,-.5,-i,0,.5,0,-.25,-.5,-i,-.5,-.5,0,0,.5,0,-.5,-.5,0,-.25,-.5,i,0,.5,0]),vertexSize:3,vertexCount:36,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},6784:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PYRAMID_SQUARE=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PYRAMID_SQUARE=new o.Geometry({name:"pyramid_square",vertices:Float32Array.from([-.5,-i,-.5,.5,-i,-.5,.5,-i,.5,.5,-i,.5,-.5,-i,.5,-.5,-i,-.5,-.5,-i,.5,.5,-i,.5,0,i,0,-.5,-i,-.5,-.5,-i,.5,0,i,0,.5,-i,-.5,-.5,-i,-.5,0,i,0,.5,-i,.5,.5,-i,-.5,0,i,0]),vertexSize:3,vertexCount:18,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},1855:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TETRAHEDRON=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.TETRAHEDRON=new o.Geometry({name:"tetrahedron",vertices:Float32Array.from([-.5,-i,i,0,-i,-i,.5,-i,i,.5,-i,i,0,i,0,-.5,-i,i,-.5,-i,i,0,i,0,0,-i,-i,0,-i,-i,0,i,0,.5,-i,i]),vertexSize:3,vertexCount:36,glShape:n.GLShape.TRIANGLES,textureCoordinates:Float32Array.from([])})},9485:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CUBE_WIREFRAME=void 0;var n=r(1983),o=r(5701);t.CUBE_WIREFRAME=new n.Geometry({name:"cube_wireframe",vertices:Float32Array.from([-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5]),vertexSize:3,vertexCount:24,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([])})},8627:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.F_WIREFRAME=void 0;var n=r(1983),o=r(5701);t.F_WIREFRAME=new n.Geometry({name:"f_wireframe",vertices:Float32Array.from([-.5,-.5,.1,-.25,-.5,.1,-.25,-.5,.1,-.25,-.15,.1,-.25,.05,.1,-.25,.25,.1,-.5,.5,.1,-.5,-.5,.1,-.25,.25,.1,.5,.25,.1,.5,.25,.1,.5,.5,.1,.5,.5,.1,-.5,.5,.1,-.25,-.15,.1,.2,-.15,.1,.2,-.15,.1,.2,.05,.1,.2,.05,.1,-.25,.05,.1,-.5,-.5,-.1,-.25,-.5,-.1,-.25,-.5,-.1,-.25,-.15,-.1,-.25,.05,-.1,-.25,.25,-.1,-.5,.5,-.1,-.5,-.5,-.1,-.25,.25,-.1,.5,.25,-.1,.5,.25,-.1,.5,.5,-.1,.5,.5,-.1,-.5,.5,-.1,-.25,-.15,-.1,.2,-.15,-.1,.2,-.15,-.1,.2,.05,-.1,.2,.05,-.1,-.25,.05,-.1,-.5,-.5,.1,-.5,-.5,-.1,-.25,-.5,.1,-.25,-.5,-.1,-.5,.5,.1,-.5,.5,-.1,-.25,.25,.1,-.25,.25,-.1,.5,.25,.1,.5,.25,-.1,.5,.5,.1,.5,.5,-.1,-.25,-.15,.1,-.25,-.15,-.1,.2,-.15,.1,.2,-.15,-.1,.2,.05,.1,.2,.05,-.1,-.25,.05,.1,-.25,.05,-.1]),vertexSize:3,vertexCount:60,glShape:o.GLShape.LINES,textureCoordinates:Float32Array.from([])})},7695:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OCTAHEDRON_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.OCTAHEDRON_WIREFRAME=new o.Geometry({name:"octahedron_wireframe",vertices:Float32Array.from([0,-i,0,.5,0,.5,-.5,0,.5,0,i,0,.5,0,.5,.5,0,-.5,0,-i,0,-.5,0,-.5,.5,0,-.5,0,i,0,-.5,0,-.5,-.5,0,.5]),vertexSize:3,vertexCount:12,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},7155:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PRISM_HEXAGONAL_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PRISM_HEXAGONAL_WIREFRAME=new o.Geometry({name:"prism_hexagonal_wireframe",vertices:Float32Array.from([-.25,-.5,i,.25,-.5,i,.5,-.5,0,.25,-.5,-i,-.25,-.5,-i,-.5,-.5,0,-.25,-.5,i,-.25,.5,i,.25,.5,i,.25,-.5,i,.25,.5,i,.5,.5,0,.5,-.5,0,.5,.5,0,.25,.5,-i,.25,-.5,-i,.25,.5,-i,-.25,.5,-i,-.25,-.5,-i,-.25,.5,-i,-.5,.5,0,-.5,-.5,0,-.5,.5,0,-.25,.5,i]),vertexSize:3,vertexCount:24,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},9267:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PRISM_TRIANGULAR_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PRISM_TRIANGULAR_WIREFRAME=new o.Geometry({name:"prism_triangular_wireframe",vertices:Float32Array.from([-.5,-i,.5,.5,-i,.5,.5,-i,-.5,-.5,-i,-.5,-.5,-i,.5,0,i,.5,.5,-i,.5,.5,-i,-.5,0,i,-.5,0,i,.5,0,i,-.5,-.5,-i,-.5]),vertexSize:3,vertexCount:12,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},911:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PYRAMID_HEXAGONAL_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PYRAMID_HEXAGONAL_WIREFRAME=new o.Geometry({name:"pyramid_hexagonal_wireframe",vertices:Float32Array.from([-.25,-.5,i,.25,-.5,i,.5,-.5,0,.25,-.5,-i,-.25,-.5,-i,-.5,-.5,0,-.25,-.5,i,0,.5,0,.25,-.5,i,0,.5,0,.5,-.5,0,0,.5,0,.25,-.5,-i,0,.5,0,-.25,-.5,-i,0,.5,0,-.5,-.5,0]),vertexSize:3,vertexCount:17,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},7682:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PYRAMID_SQUARE_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.PYRAMID_SQUARE_WIREFRAME=new o.Geometry({name:"pyramid_square_wireframe",vertices:Float32Array.from([-.5,-i,.5,.5,-i,.5,.5,-i,-.5,-.5,-i,-.5,-.5,-i,.5,0,i,0,-.5,-i,-.5,0,i,0,.5,-i,-.5,0,i,0,.5,-i,.5]),vertexSize:3,vertexCount:11,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},5918:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TETRAHEDRON_WIREFRAME=void 0;var n=r(5701),o=r(1983),i=Math.sqrt(3)/4;t.TETRAHEDRON_WIREFRAME=new o.Geometry({name:"tetrahedron_wireframe",vertices:Float32Array.from([-.5,-i,i,.5,-i,i,0,-i,-i,-.5,-i,i,0,i,0,.5,-i,i,0,i,0,0,-i,-i]),vertexSize:3,vertexCount:8,glShape:n.GLShape.LINE_LOOP,textureCoordinates:Float32Array.from([])})},1983:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.config.vertices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexSize",{get:function(){return this.config.vertexSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexCount",{get:function(){return this.config.vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"glShape",{get:function(){return this.config.glShape},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textureCoordinates",{get:function(){return this.config.textureCoordinates},enumerable:!1,configurable:!0}),e}();t.Geometry=r},5701:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GLShape=void 0,(r=t.GLShape||(t.GLShape={}))[r.POINTS=WebGLRenderingContext.POINTS]="POINTS",r[r.LINES=WebGLRenderingContext.LINES]="LINES",r[r.LINE_LOOP=WebGLRenderingContext.LINE_LOOP]="LINE_LOOP",r[r.LINE_STRIP=WebGLRenderingContext.LINE_STRIP]="LINE_STRIP",r[r.TRIANGLES=WebGLRenderingContext.TRIANGLES]="TRIANGLES",r[r.TRIANGLE_STRIP=WebGLRenderingContext.TRIANGLE_STRIP]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=WebGLRenderingContext.TRIANGLE_FAN]="TRIANGLE_FAN"},2720:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.VertexShaders=t.ShaderPrograms=t.FragmentShaders=t.Geometries=t.World=t.UI=t.Panel=t.System=t.Physics=t.State=t.Game=t.Transform=t.Camera=void 0;var i=r(7692);Object.defineProperty(t,"Camera",{enumerable:!0,get:function(){return i.Camera}});var a=r(7515);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return a.Transform}});var s=r(1223);Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return s.Game}});var u=r(7005),c=r(8948),l=r(5775),f=r(4272),d=r(97),p=r(2025),h=r(5210),y=r(9489),m=r(6784),v=r(1855),_=r(9485),g=r(8627),b=r(7695),w=r(7155),E=r(9267),T=r(911),x=r(7682),O=r(5918),A=r(4450),P=r(1814),R=r(4355),M=r(7141),S=r(4623),C=r(9637),j=r(7455),I=r(1805),N=r(2932),F=r(9908),U=r(1187),L=r(4026);Object.defineProperty(t,"State",{enumerable:!0,get:function(){return L.State}});var V=r(8691);Object.defineProperty(t,"Physics",{enumerable:!0,get:function(){return V.Physics}});var G=r(2898);Object.defineProperty(t,"System",{enumerable:!0,get:function(){return G.System}});var D=r(6896);Object.defineProperty(t,"Panel",{enumerable:!0,get:function(){return D.Panel}});var z=r(8836);Object.defineProperty(t,"UI",{enumerable:!0,get:function(){return z.UI}});var B=r(6823);Object.defineProperty(t,"World",{enumerable:!0,get:function(){return B.World}}),o(r(8761),t),o(r(3273),t),t.Geometries={CUBE:u.CUBE,F:c.F,LINE:l.LINE,OCTAHEDRON:f.OCTAHEDRON,POINT:d.POINT,PRISM_HEXAGONAL:p.PRISM_HEXAGONAL,PRISM_TRIANGULAR:h.PRISM_TRIANGULAR,PYRAMID_HEXAGONAL:y.PYRAMID_HEXAGONAL,PYRAMID_SQUARE:m.PYRAMID_SQUARE,TETRAHEDRON:v.TETRAHEDRON,Wireframe:{CUBE:_.CUBE_WIREFRAME,F:g.F_WIREFRAME,OCTAHEDRON:b.OCTAHEDRON_WIREFRAME,PRISM_HEXAGONAL:w.PRISM_HEXAGONAL_WIREFRAME,PRISM_TRIANGULAR:E.PRISM_TRIANGULAR_WIREFRAME,PYRAMID_HEXAGONAL:T.PYRAMID_HEXAGONAL_WIREFRAME,PYRAMID_SQUARE:x.PYRAMID_SQUARE_WIREFRAME,TETRAHEDRON:O.TETRAHEDRON_WIREFRAME}},t.FragmentShaders={BASIC:A.FRAGMENT_BASIC,COLOR_PER_VERTEX:P.FRAGMENT_COLOR_PER_VERTEX,TEXTURE:R.FRAGMENT_TEXTURE,TEXTURE_COLORED:M.FRAGMENT_TEXTURE_COLORED},t.ShaderPrograms={BASIC:S.PROGRAM_BASIC,COLOR_PER_VERTEX:C.PROGRAM_COLOR_PER_VERTEX,TEXTURE:j.PROGRAM_TEXTURE,TEXTURE_COLORED:I.PROGRAM_TEXTURE_COLORED},t.VertexShaders={BASIC:N.VERTEX_BASIC,COLOR_PER_VERTEX:F.VERTEX_COLOR_PER_VERTEX,TEXTURE:U.VERTEX_TEXTURE}},7410:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputManager=void 0;var n=r(2250),o=r(4888),i=function(){function e(e,t){switch(this.controlScheme=t,this.keyBuffer=new Set,this.mousePressed=!1,this.mousePos=new n.Vec2,this.clickPos=new n.Vec2,this.dblClickPos=new n.Vec2,this.contextClickPos=new n.Vec2,this.ignoreKeys=[o.Keys.F_5,o.Keys.F_12],this.boundHandlers={onKeyDown:this.onKeyDown.bind(this),onKeyUp:this.onKeyUp.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onClick:this.onClick.bind(this),onContextMenu:this.onContextMenu.bind(this),onDoubleClick:this.onDoubleClick.bind(this),onMouseMove:this.onMouseMove.bind(this)},this.canvas=e,t){case"keyboard":this.setupKeyboard();break;case"mouse":this.setupMouse(e);break;default:this.setupMouse(e),this.setupKeyboard()}}return e.prototype.isKeyDown=function(e){return this.keyBuffer.has(e)},e.prototype.isMouseDown=function(){return this.mousePressed},e.prototype.destroy=function(){switch(this.controlScheme){case"keyboard":this.tearDownKeyboard();break;case"mouse":this.tearDownMouse(this.canvas);break;default:this.tearDownMouse(this.canvas),this.tearDownKeyboard()}this.canvas=void 0},e.prototype.onKeyDown=function(e){var t=e.code;e.preventDefault(),this.ignoreKeys.includes(t)||this.keyBuffer.add(t)},e.prototype.onKeyUp=function(e){var t=e.code;e.preventDefault(),this.ignoreKeys.includes(t)||this.keyBuffer.delete(t)},e.prototype.onMouseDown=function(){this.mousePressed=!0},e.prototype.onMouseUp=function(){this.mousePressed=!1},e.prototype.onClick=function(e){this.clickPos.set(e.x,e.y)},e.prototype.onContextMenu=function(e){this.contextClickPos.set(e.x,e.y)},e.prototype.onDoubleClick=function(e){this.dblClickPos.set(e.x,e.y)},e.prototype.onMouseMove=function(e){this.mousePos.set(e.x,e.y)},e.prototype.setupKeyboard=function(){window.addEventListener("keydown",this.boundHandlers.onKeyDown),window.addEventListener("keyup",this.boundHandlers.onKeyUp)},e.prototype.tearDownKeyboard=function(){window.removeEventListener("keydown",this.boundHandlers.onKeyDown),window.removeEventListener("keyup",this.boundHandlers.onKeyUp)},e.prototype.setupMouse=function(e){e.addEventListener("mousedown",this.boundHandlers.onMouseDown),e.addEventListener("mouseup",this.boundHandlers.onMouseUp),e.addEventListener("click",this.boundHandlers.onClick),e.addEventListener("contextmenu",this.boundHandlers.onContextMenu),e.addEventListener("dblclick",this.boundHandlers.onDoubleClick),e.addEventListener("mousemove",this.boundHandlers.onMouseMove)},e.prototype.tearDownMouse=function(e){e.removeEventListener("mousedown",this.boundHandlers.onMouseDown),e.removeEventListener("mouseup",this.boundHandlers.onMouseUp),e.removeEventListener("click",this.boundHandlers.onClick),e.removeEventListener("contextmenu",this.boundHandlers.onContextMenu),e.removeEventListener("dblclick",this.boundHandlers.onDoubleClick),e.removeEventListener("mousemove",this.boundHandlers.onMouseMove)},e}();t.InputManager=i},4888:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Keys=void 0,(r=t.Keys||(t.Keys={})).A="KeyA",r.B="KeyB",r.C="KeyC",r.D="KeyD",r.E="KeyE",r.F="KeyF",r.G="KeyG",r.H="KeyH",r.I="KeyI",r.J="KeyJ",r.K="KeyK",r.L="KeyL",r.M="KeyM",r.N="KeyN",r.O="KeyO",r.P="KeyP",r.Q="KeyQ",r.R="KeyR",r.S="KeyS",r.T="KeyT",r.U="KeyU",r.V="KeyV",r.W="KeyW",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r.NUM_1="Digit1",r.NUM_2="Digit2",r.NUM_3="Digit3",r.NUM_4="Digit4",r.NUM_5="Digit5",r.NUM_6="Digit6",r.NUM_7="Digit7",r.NUM_8="Digit8",r.NUM_9="Digit9",r.NUM_0="Digit0",r.NUM_PAD_1="Numpad1",r.NUM_PAD_2="Numpad2",r.NUM_PAD_3="Numpad3",r.NUM_PAD_4="Numpad4",r.NUM_PAD_5="Numpad5",r.NUM_PAD_6="Numpad6",r.NUM_PAD_7="Numpad7",r.NUM_PAD_8="Numpad8",r.NUM_PAD_9="Numpad9",r.NUM_PAD_0="Numpad0",r.ARROW_LEFT="ArrowLeft",r.ARROW_RIGHT="ArrowRight",r.ARROW_UP="ArrowUp",r.ARROW_DOWN="ArrowDown",r.F_1="F1",r.F_2="F2",r.F_3="F3",r.F_4="F4",r.F_5="F5",r.F_6="F6",r.F_7="F7",r.F_8="F8",r.F_9="F9",r.F_10="F10",r.F_11="F11",r.F_12="F12",r.SPACE="Space",r.ENTER="Enter",r.SHIFT_LEFT="ShiftLeft",r.SHIFT_RIGHT="ShiftRight",r.CTRL_LEFT="ControlLeft",r.CTRL_RIGHT="ControlRight",r.ESC="Escape"},5218:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Angle=void 0;var r=function(){function e(){}return e.toRadians=function(e){return e*(Math.PI/180)},e.toDegrees=function(e){return 180*e/Math.PI},e}();t.Angle=r},5074:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;var n=r(7209),o=function(){function e(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n,this.r=Math.max(Math.min(e,255),0),this.g=Math.max(Math.min(t,255),0),this.b=Math.max(Math.min(r,255),0),this.a=Math.max(Math.min(n,1),0)}return e.white=function(t){return new e(255,255,255,t)},e.black=function(t){return new e(0,0,0,t)},e.grey=function(t){return new e(128,128,128,t)},e.red=function(t){return new e(255,0,0,t)},e.green=function(t){return new e(0,255,0,t)},e.blue=function(t){return new e(0,0,255,t)},e.yellow=function(t){return new e(255,255,0,t)},e.magenta=function(t){return new e(255,0,255,t)},e.cyan=function(t){return new e(0,255,255,t)},e.random=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=1),new e(n.Random.between(0,255),n.Random.between(0,255),n.Random.between(0,255),t?n.Random.between(0,1):r)},e.randomList=function(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);for(var o=[],i=0;i<t;i++)o.push(e.random(r,n));return o},e.rgba=function(t,r,n,o){return void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),new e(t,r,n,o)},e.hex=function(t){var r=0,n=0,o=0;if(t.startsWith("#"))switch(t.length){case 4:r=parseInt(t.substr(1,1).repeat(2),16),n=parseInt(t.substr(2,1).repeat(2),16),o=parseInt(t.substr(3,1).repeat(2),16);break;case 7:r=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),o=parseInt(t.substr(5,2),16)}else switch(t.length){case 3:r=parseInt(t.substr(0,1).repeat(2),16),n=parseInt(t.substr(1,1).repeat(2),16),o=parseInt(t.substr(2,1).repeat(2),16);break;case 6:r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16)}return(isNaN(r)||isNaN(n)||isNaN(o))&&(r=n=o=0),new e(r,n,o)},e.toHex=function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t},Object.defineProperty(e.prototype,"hex",{get:function(){return"#".concat(e.toHex(this.r)).concat(e.toHex(this.g)).concat(e.toHex(this.b))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from([this.rf,this.gf,this.bf,this.a])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rf",{get:function(){return this.r/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gf",{get:function(){return this.g/255},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bf",{get:function(){return this.b/255},enumerable:!1,configurable:!0}),e}();t.Color=o},2305:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Mat3=void 0;var r=function(){function e(t){void 0===t&&(t=e.IDENTITY.slice(0)),this.array=t}return e.add=function(t,r){var n=t.array,o=r.array;return new e([n[0]+o[0],n[1]+o[1],n[2]+o[2],n[3]+o[3],n[4]+o[4],n[5]+o[5],n[6]+o[6],n[7]+o[7],n[8]+o[8]])},e.sub=function(t,r){var n=t.array,o=r.array;return new e([n[0]-o[0],n[1]-o[1],n[2]-o[2],n[3]-o[3],n[4]-o[4],n[5]-o[5],n[6]-o[6],n[7]-o[7],n[8]-o[8]])},e.mult=function(t,r){var n=t.array,o=r.array,i=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5],f=n[6],d=n[7],p=n[8],h=o[0],y=o[1],m=o[2],v=o[3],_=o[4],g=o[5],b=o[6],w=o[7],E=o[8];return new e([i*h+a*v+s*b,i*y+a*_+s*w,i*m+a*g+s*E,u*h+c*v+l*b,u*y+c*_+l*w,u*m+c*g+l*E,f*h+d*v+p*b,f*y+d*_+p*w,f*m+d*g+p*E])},e.multScalar=function(t,r){var n=t.array;return new e([n[0]*r,n[1]*r,n[2]*r,n[3]*r,n[4]*r,n[5]*r,n[6]*r,n[7]*r,n[8]*r])},e.invert=function(t){var r=t.determinant;return r?e.multScalar(e.adjoint(t),1/r):null},e.transpose=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=r[5];return new e([n,a,r[6],o,s,r[7],i,u,r[8]])},e.adjoint=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],f=r[8];return new e([s*f-u*l,-(o*f-i*l),o*u-i*s,-(a*f-u*c),n*f-i*c,-(n*u-i*a),a*l-s*c,-(n*l-o*c),n*s-o*a])},e.translate=function(t,r){var n=t.array,o=r.x,i=r.y,a=n[0],s=n[1],u=n[2],c=n[3],l=n[4],f=n[5];return new e([a,s,u,c,l,f,o*a+i*c+n[6],o*s+i*l+n[7],o*u+i*f+n[8]])},e.rotate=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],s=n[1],u=n[2],c=n[3],l=n[4],f=n[5];return new e([i*a-o*c,i*s-o*l,i*u-o*f,i*c+o*a,i*l+o*s,i*f+o*u,n[6],n[7],n[8]])},e.fromRotation=function(t){var r=Math.sin(t),n=Math.cos(t);return new e([n,-r,0,r,n,0,0,0,1])},e.scale=function(t,r){var n=t.array,o=r.x,i=r.y;return new e([o*n[0],o*n[1],o*n[2],i*n[3],i*n[4],i*n[5],n[6],n[7],n[8]])},e.projection=function(t,r){return new e([2/t,0,0,0,2/r,0,0,0,1])},Object.defineProperty(e.prototype,"determinant",{get:function(){var e=this.array,t=e[0],r=e[1],n=e[2],o=e[0],i=e[1],a=(e[3],e[4]),s=e[5],u=e[3],c=(e[4],e[6]),l=e[7],f=e[8];return t*a*f+r*s*e[6]+n*u*e[7]-i*u*f-o*s*l-n*a*c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){var e=this.array;return"Mat3\n".concat(e[0]," ").concat(e[1]," ").concat(e[2],"\n").concat(e[3]," ").concat(e[4]," ").concat(e[5],"\n").concat(e[6]," ").concat(e[7]," ").concat(e[8],"\n")},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.mutable.array=e.IDENTITY.slice(0)},e.prototype.clone=function(){return new e(this.array)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e.IDENTITY=[1,0,0,0,1,0,0,0,1],e}();t.Mat3=r},5693:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Mat4=void 0;var n=r(5218),o=r(9037),i=function(){function e(t){void 0===t&&(t=e.IDENTITY.slice(0)),this.array=t}return e.add=function(t,r){var n=t.array,o=r.array;return new e([n[0]+o[0],n[1]+o[1],n[2]+o[2],n[3]+o[3],n[4]+o[4],n[5]+o[5],n[6]+o[6],n[7]+o[7],n[8]+o[8],n[9]+o[9],n[10]+o[10],n[11]+o[11],n[12]+o[12],n[13]+o[13],n[14]+o[14],n[15]+o[15]])},e.sub=function(t,r){var n=t.array,o=r.array;return new e([n[0]-o[0],n[1]-o[1],n[2]-o[2],n[3]-o[3],n[4]-o[4],n[5]-o[5],n[6]-o[6],n[7]-o[7],n[8]-o[8],n[9]-o[9],n[10]-o[10],n[11]-o[11],n[12]-o[12],n[13]-o[13],n[14]-o[14],n[15]-o[15]])},e.mult=function(t,r){var n=t.array,o=r.array,i=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5],f=n[6],d=n[7],p=n[8],h=n[9],y=n[10],m=n[11],v=n[12],_=n[13],g=n[14],b=n[15],w=o[0],E=o[1],T=o[2],x=o[3],O=o[4],A=o[5],P=o[6],R=o[7],M=o[8],S=o[9],C=o[10],j=o[11],I=o[12],N=o[13],F=o[14],U=o[15];return new e([i*w+a*O+s*M+u*I,i*E+a*A+s*S+u*N,i*T+a*P+s*C+u*F,i*x+a*R+s*j+u*U,c*w+l*O+f*M+d*I,c*E+l*A+f*S+d*N,c*T+l*P+f*C+d*F,c*x+l*R+f*j+d*U,p*w+h*O+y*M+m*I,p*E+h*A+y*S+m*N,p*T+h*P+y*C+m*F,p*x+h*R+y*j+m*U,v*w+_*O+g*M+b*I,v*E+_*A+g*S+b*N,v*T+_*P+g*j+b*F,v*x+_*R+g*j+b*U])},e.multScalar=function(t,r){var n=t.array;return new e([n[0]*r,n[1]*r,n[2]*r,n[3]*r,n[4]*r,n[5]*r,n[6]*r,n[7]*r,n[8]*r,n[9]*r,n[10]*r,n[11]*r,n[12]*r,n[13]*r,n[14]*r,n[15]*r])},e.invert=function(t){var r=t.determinant;return r?e.multScalar(e.adjoint(t),1/r):null},e.transpose=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],f=r[8],d=r[9],p=r[10],h=r[11];return new e([n,s,f,r[12],o,u,d,r[13],i,c,p,r[14],a,l,h,r[15]])},e.adjoint=function(t){var r=t.array,n=r[0],o=r[1],i=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],f=r[8],d=r[9],p=r[10],h=r[11],y=r[12],m=r[13],v=r[14],_=r[15];return new e([u*(p*_-h*v)-c*(d*_-h*m)+l*(d*v-p*m),-(o*(p*_-h*v)-i*(d*_-h*m)+a*(d*v-p*m)),o*(c*_-l*v)-i*(u*_-l*m)+a*(u*v-c*m),-(o*(c*h-l*p)-i*(u*h-l*d)+a*(u*p-c*d)),-(s*(p*_-h*v)-c*(f*_-h*y)+l*(f*v-p*y)),n*(p*_-h*v)-i*(f*_-h*y)+a*(f*v-p*y),-(n*(c*_-l*v)-i*(s*_-l*y)+a*(s*v-c*y)),n*(c*h-l*p)-i*(s*h-l*f)+a*(s*p-c*f),s*(d*_-h*m)-u*(f*_-h*y)+l*(f*m-d*y),-(n*(d*_-h*m)-o*(f*_-h*y)+a*(f*m-d*y)),n*(u*_-l*m)-o*(s*_-l*y)+a*(s*m-u*y),-(n*(u*h-l*d)-o*(s*h-l*f)+a*(s*d-u*f)),-(s*(d*v-p*m)-u*(f*v-p*y)+c*(f*m-d*y)),n*(d*v-p*m)-o*(f*v-p*y)+i*(f*m-d*y),-(n*(u*v-c*m)-o*(s*v-c*y)+i*(s*m-u*y)),n*(u*p-c*d)-o*(s*p-c*f)+i*(s*d-u*f)])},e.translate=function(t,r){var n=t.array,o=r.x,i=r.y,a=r.z,s=n[0],u=n[1],c=n[2],l=n[3],f=n[4],d=n[5],p=n[6],h=n[7],y=n[8],m=n[9],v=n[10],_=n[11];return new e([s,u,c,l,f,d,p,h,y,m,v,_,o*s+i*f+a*y+n[12],o*u+i*d+a*m+n[13],o*c+i*p+a*v+n[14],o*l+i*h+a*_+n[15]])},e.rotateX=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],s=n[1],u=n[2],c=n[3],l=n[4],f=n[5],d=n[6],p=n[7],h=n[8],y=n[9],m=n[10],v=n[11];return new e([a,s,u,c,i*l+o*h,i*f+o*y,i*d+o*m,i*p+o*v,i*h-o*l,i*y-o*f,i*m-o*d,i*v-o*p,n[12],n[13],n[14],n[15]])},e.rotateY=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],s=n[1],u=n[2],c=n[3],l=n[4],f=n[5],d=n[6],p=n[7],h=n[8],y=n[9],m=n[10],v=n[11];return new e([i*a+o*h,i*s+o*y,i*u+o*m,i*c+o*v,l,f,d,p,i*h-o*a,i*y-o*s,i*m-o*u,i*v-o*c,n[12],n[13],n[14],n[15]])},e.rotateZ=function(t,r){var n=t.array,o=Math.sin(r),i=Math.cos(r),a=n[0],s=n[1],u=n[2],c=n[3],l=n[4],f=n[5],d=n[6],p=n[7];return new e([i*a-o*l,i*s-o*f,i*u-o*d,i*c-o*p,i*l+o*a,i*f+o*s,i*d+o*u,i*p+o*c,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]])},e.fromAxisRotation=function(t,r){var n=o.Vec3.normalize(t),i=n.x,a=n.y,s=n.z,u=Math.sin(r),c=Math.cos(r),l=1-c;return new e([i*i*l+c,a*i*l+s*u,s*i*l-a*u,0,i*a*l-s*u,a*a*l+c,s*a*l+i*u,0,i*s*l+a*u,a*s*l-i*u,s*s*l+c,0,0,0,0,1])},e.scale=function(t,r){var n=t.array,o=r.x,i=r.y,a=r.z;return new e([o*n[0],o*n[1],o*n[2],o*n[3],i*n[4],i*n[5],i*n[6],i*n[7],a*n[8],a*n[9],a*n[10],a*n[11],n[12],n[13],n[14],n[15]])},e.perspective=function(t,r,o,i){var a=1/Math.tan(n.Angle.toRadians(t)/2);if(i){var s=1/(o-i);return new e([a/r,0,0,0,0,a,0,0,0,0,(i+o)*s,-1,0,0,2*i*o*s,0])}return new e([a/r,0,0,0,0,a,0,0,0,0,-1,-1,0,0,-2*o,0])},e.ortho=function(t,r,n,o,i,a){return new e([2/(r-t),0,0,0,0,2/(o-n),0,0,0,0,2/(i-a),0,(t+r)/(t-r),(n+o)/(n-o),(i+a)/(i-a),1])},e.lookAt=function(t,r,n){var i=o.Vec3.normalize(o.Vec3.sub(t,r)),a=o.Vec3.normalize(o.Vec3.cross(n,i)),s=o.Vec3.normalize(o.Vec3.cross(i,a));return new e([a.x,a.y,a.z,0,s.x,s.y,s.z,0,i.x,i.y,i.z,0,t.x,t.y,t.z,1])},Object.defineProperty(e.prototype,"determinant",{get:function(){var e=this.array,t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],d=e[11],p=e[12],h=e[13],y=e[14],m=e[15];return t*(a*(f*m-d*y)-s*(l*m-d*h)+u*(l*y-f*h))-r*(i*(f*m-d*y)-s*(c*m-d*p)+u*(c*y-f*p))+n*(i*(l*m-d*h)-a*(c*m-d*p)+u*(c*h-l*p))-o*(i*(l*y-f*h)-a*(c*y-f*p)+s*(c*h-l*p))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forwardVector",{get:function(){return new o.Vec3(this.array[8],this.array[9],this.array[10])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightVector",{get:function(){return new o.Vec3(this.array[0],this.array[1],this.array[2])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"upVector",{get:function(){return new o.Vec3(this.array[4],this.array[5],this.array[6])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){var e=this.array;return"Mat4\n".concat(e[0]," ").concat(e[1]," ").concat(e[2]," ").concat(e[3],"\n").concat(e[4]," ").concat(e[5]," ").concat(e[6]," ").concat(e[7],"\n").concat(e[8]," ").concat(e[9]," ").concat(e[10]," ").concat(e[11],"\n").concat(e[12]," ").concat(e[13]," ").concat(e[14]," ").concat(e[15])},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.mutable.array=e.IDENTITY.slice(0)},e.prototype.clone=function(){return new e(this.array)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e.IDENTITY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e}();t.Mat4=i},7209:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0;var r=function(){function e(){}return e.between=function(e,t){return Math.random()*(t-e)+e},e}();t.Random=r},2250:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec2=void 0;var n=r(9037),o=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y)},e.scale=function(t,r){return new e(t.x*r,t.y*r)},e.negate=function(t){return new e(-t.x,-t.y)},e.invert=function(t){return new e(1/t.x,1/t.y)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.cross=function(e,t){return new n.Vec3(0,0,e.x*t.y-e.y*t.x)},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y)},e.angleBetween=function(t,r){var n=t.magnitude*r.magnitude,o=e.dot(t,r);return n>0?Math.acos(o/n):0},e.rotate=function(t,r){var n=Math.cos(r),o=Math.sin(r);return new e(t.x*n-t.y*o,t.x*o+t.y*n)},e.clamp=function(t,r,n){return new e(Math.min(Math.max(t.x,r.x),n.x),Math.min(Math.max(t.y,r.y),n.y))},e.transformByMat3=function(t,r){var n=t.x,o=t.y,i=r.array,a=i[0],s=i[1],u=i[3],c=i[4];return new e(a*n+u*o+i[6],s*n+c*o+i[7])},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec2( ".concat(this.x," , ").concat(this.y," )")},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.mutable.x=e,this.mutable.y=t},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.clone=function(){return new e(this.x,this.y)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec2=o},9037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec3=void 0;var r=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.z=r}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y,t.z+r.z)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y,t.z*r.z)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y,t.z/r.z)},e.scale=function(t,r){return new e(t.x*r,t.y*r,t.z*r)},e.negate=function(t){return new e(-t.x,-t.y,-t.z)},e.invert=function(t){return new e(1/t.x,1/t.y,1/t.z)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r,t.z/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},e.cross=function(t,r){return new e(t.y*r.z-t.z*r.y,t.z*r.x-t.x*r.z,t.x*r.y-t.y*r.x)},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y,t.z-e.z)},e.angleBetween=function(t,r){var n=t.magnitude*r.magnitude,o=e.dot(t,r);return n>0?Math.acos(o/n):0},e.rotateX=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[0],o[1]*Math.cos(n)-o[2]*Math.sin(n),o[1]*Math.sin(n)+o[2]*Math.cos(n)];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.rotateY=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[2]*Math.sin(n)+o[0]*Math.cos(n),o[1],o[2]*Math.cos(n)-o[0]*Math.sin(n)];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.rotateZ=function(t,r,n){var o=[t.x-r.x,t.y-r.y,t.z-r.z],i=[o[0]*Math.cos(n)-o[1]*Math.sin(n),o[0]*Math.sin(n)+o[1]*Math.cos(n),o[2]];return new e(i[0]+r.x,i[1]+r.y,i[2]+r.z)},e.transformByMat4=function(t,r){var n=t.x,o=t.y,i=t.z,a=r.array,s=a[0],u=a[1],c=a[2],l=a[4],f=a[5],d=a[6],p=a[8],h=a[9],y=a[10];return new e(s*n+l*o+p*i+a[12],u*n+f*o+h*i+a[13],c*n+d*o+y*i+a[14])},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y,this.z)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y,this.z]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec3( ".concat(this.x," , ").concat(this.y," , ").concat(this.z," )")},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.mutable.x=e,this.mutable.y=t,this.mutable.z=r},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.setZ=function(e){void 0===e&&(e=0),this.mutable.z=e},e.prototype.clone=function(){return new e(this.x,this.y,this.z)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec3=r},1647:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vec4=void 0;var r=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=r,this.w=n}return e.add=function(t,r){return new e(t.x+r.x,t.y+r.y,t.z+r.z,t.w+r.w)},e.sub=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z,t.w-r.w)},e.mult=function(t,r){return new e(t.x*r.x,t.y*r.y,t.z*r.z,t.w*r.w)},e.div=function(t,r){return new e(t.x/r.x,t.y/r.y,t.z/r.z,t.w/r.w)},e.scale=function(t,r){return new e(t.x*r,t.y*r,t.z*r,t.w*r)},e.negate=function(t){return new e(-t.x,-t.y,-t.z,-t.w)},e.invert=function(t){return new e(1/t.x,1/t.y,1/t.z,1/t.w)},e.normalize=function(t){var r=t.magnitude;return r>0?new e(t.x/r,t.y/r,t.z/r,t.w/r):new e},e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},e.distanceBetween=function(e,t){return Math.hypot(t.x-e.x,t.y-e.y,t.z-e.z,t.w-e.z)},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.hypot(this.x,this.y,this.z,this.w)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return[this.x,this.y,this.z,this.w]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"float32Array",{get:function(){return Float32Array.from(this.array)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return"Vec4( ".concat(this.x," , ").concat(this.y," , ").concat(this.z," , ").concat(this.w," )")},enumerable:!1,configurable:!0}),e.prototype.set=function(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.mutable.x=e,this.mutable.y=t,this.mutable.z=r,this.mutable.w=n},e.prototype.setX=function(e){void 0===e&&(e=0),this.mutable.x=e},e.prototype.setY=function(e){void 0===e&&(e=0),this.mutable.y=e},e.prototype.setZ=function(e){void 0===e&&(e=0),this.mutable.z=e},e.prototype.setW=function(e){void 0===e&&(e=0),this.mutable.w=e},e.prototype.clone=function(){return new e(this.x,this.y,this.z,this.w)},Object.defineProperty(e.prototype,"mutable",{get:function(){return this},enumerable:!1,configurable:!0}),e}();t.Vec4=r},2452:function(e,t,r){var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=r(7350),a=r(4797),s=r(5047),u=r(8488),c=function(){function e(e,t){var r;this.shaderPrograms=new Map,this.activeShaderProgram=null,this.vbos=new Map,this.activeVBOName=null,this.textures=new Map,this.activeTexture=null,this.mode="2D",this.game=e;var n=null===(r=e.canvas)||void 0===r?void 0:r.getContext("webgl");if(!n)throw new i.AuraError({class:"Renderer",method:"construct",message:"Failed to retrieve WebGL Canvas context"});this.gl=n,this.backgroundColor=t.float32Array,this.init()}return Object.defineProperty(e.prototype,"activeTextureUnit",{get:function(){var e,t;return null!==(t=null===(e=this.activeTexture)||void 0===e?void 0:e.uniformUnit)&&void 0!==t?t:-1},enumerable:!1,configurable:!0}),e.prototype.clearScreen=function(){var e=this.gl.COLOR_BUFFER_BIT;"3D"===this.mode&&(e|=this.gl.DEPTH_BUFFER_BIT),this.gl.clear(e)},e.prototype.createVBO=function(e){var t=this.gl.createBuffer();if(!t)throw new i.AuraError({class:"Renderer",method:"createVBO",message:"Failed to create buffer with name '".concat(e,"'")});this.vbos.set(e,t)},e.prototype.deleteVBO=function(e){var t,r,o,i,a=this.gl,s=this.vbos.get(e);if(s){a.deleteBuffer(s),this.vbos.delete(e),this.activeVBOName="";try{for(var u=n(null!==(i=null===(o=this.activeShaderProgram)||void 0===o?void 0:o.attributeLocations)&&void 0!==i?i:[]),c=u.next();!c.done;c=u.next()){var l=c.value;a.disableVertexAttribArray(l.location)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}}},e.prototype.createShaderProgram=function(e){var t=this.gl,r=e.vertex,n=e.fragment,o=this.compileShader(e.name,t.VERTEX_SHADER,r.source),a=this.compileShader(e.name,t.FRAGMENT_SHADER,n.source),s=t.createProgram();if(!s)throw new i.AuraError({class:"Renderer",method:"createShaderProgram",message:"Failed to create Shader Program with name '".concat(e.name,"'")});if(t.attachShader(s,o),t.attachShader(s,a),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS)){var u=t.getProgramInfoLog(s);throw t.deleteProgram(s),t.deleteShader(a),t.deleteShader(o),new i.AuraError({class:"Renderer",method:"createShaderProgram",message:"Failed to link Shader Program with name '".concat(e.name,"' : [").concat(null!=u?u:"","]")})}this.initializeShaderProgram(s,e)},e.prototype.createTexture=function(e){var t=this.gl,r=t.TEXTURE0+this.textures.size;t.activeTexture(r);var n=t.createTexture();if(!n)throw new i.AuraError({class:"Renderer",method:"createTexture",message:"Failed to create texture with name '".concat(e.name,"' and src '").concat(e.src,"'")});t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,0,255,255])),t.bindTexture(t.TEXTURE_2D,null);var o=new Image;o.src=e.src,this.imageIsSameOrigin(e.src)||(o.crossOrigin=""),o.addEventListener("load",(function(){t.activeTexture(r),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.generateMipmap(t.TEXTURE_2D)})),this.textures.set(e.name,{name:e.name,texture:n,unit:r,uniformUnit:r-t.TEXTURE0})},e.prototype.setRenderingMode=function(e){var t=this.gl;"3D"===e&&(t.enable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.enable(t.CULL_FACE)),this.mode=e},e.prototype.render=function(e){var t,r,o,i,s,u,c,l,f,d,p=this.gl;e.shaderProgramName!==(null===(c=this.activeShaderProgram)||void 0===c?void 0:c.name)&&this.useShaderProgram(e.shaderProgramName),(e.vbo.name!==this.activeVBOName||e.vbo.changed)&&this.useVBO(e.vbo),e.textureAtlasName&&e.textureAtlasName!==(null===(l=this.activeTexture)||void 0===l?void 0:l.name)&&this.useTexture(e.textureAtlasName);var h=null===(f=this.activeShaderProgram)||void 0===f?void 0:f.staticUniformLocations,y=null===(d=this.activeShaderProgram)||void 0===d?void 0:d.entityUniformLocations;if(null==h?void 0:h.length)try{for(var m=n(h),v=m.next();!v.done;v=m.next()){var _=v.value;this.loadUniform(_.location,_.type,a.ShaderVariableResolver.resolveStaticUniform(_.name,this.game))}}catch(e){t={error:e}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}if(null==y?void 0:y.length){var g=0;try{for(var b=n(e.entities),w=b.next();!w.done;w=b.next()){var E=w.value;try{for(var T=(s=void 0,n(y)),x=T.next();!x.done;x=T.next()){var O=(_=x.value).location;O&&this.loadUniform(O,_.type,a.ShaderVariableResolver.resolveEntityUniform(_.name,E))}}catch(e){s={error:e}}finally{try{x&&!x.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}p.drawArrays(e.vbo.glShape,g,e.vbo.vertexCount),g+=e.vbo.vertexCount}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=b.return)&&i.call(b)}finally{if(o)throw o.error}}}else p.drawArrays(e.vbo.glShape,0,e.vbo.vertexCount*e.entities.length)},e.prototype.destroy=function(){this.game=void 0},e.prototype.init=function(){var e=this.gl,t=o(this.backgroundColor,4),r=t[0],n=t[1],i=t[2],a=t[3];this.gl.clearColor(r,n,i,a),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.viewport(0,0,e.canvas.width,e.canvas.height)},e.prototype.compileShader=function(e,t,r){var n=this.gl,o=t===WebGLRenderingContext.VERTEX_SHADER?"Vertex Shader":"Fragment Shader",a=n.createShader(t);if(!a)throw new i.AuraError({class:"Renderer",method:"compileShader",message:"Failed to create ".concat(o," with name ").concat(e)});if(n.shaderSource(a,r),n.compileShader(a),!n.getShaderParameter(a,n.COMPILE_STATUS)){var s=n.getShaderInfoLog(a);throw n.deleteShader(a),new i.AuraError({class:"Renderer",method:"compileShader",message:"Failed to compile ".concat(o," with name ").concat(e," : [").concat(null!=s?s:"","]")})}return a},e.prototype.initializeShaderProgram=function(e,t){var r,o,a,s,c,l=this.gl;l.useProgram(e);var f=[];try{for(var d=n(t.vertex.attributes),p=d.next();!p.done;p=d.next()){var h=p.value;f.push({location:l.getAttribLocation(e,h.name),size:h.size})}}catch(e){r={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var y=[],m=[],v=(null!==(c=t.vertex.uniforms)&&void 0!==c?c:[]).concat(t.fragment.uniforms);try{for(var _=n(v),g=_.next();!g.done;g=_.next()){var b=g.value,w=l.getUniformLocation(e,b.name),E=b.variation===u.UniformVariation.STATIC?y:m;if(!w)throw new i.AuraError({class:"Renderer",method:"initializeShaderProgram",message:"Failed to retrieve uniform location for uniform name '".concat(b.name,"' in shader program '").concat(t.name,"'")});E.push({name:b.name,location:w,type:b.type})}}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}this.shaderPrograms.set(t.name,{name:t.name,program:e,attributeLocations:f,staticUniformLocations:y,entityUniformLocations:m}),l.useProgram(null)},e.prototype.useShaderProgram=function(e){var t=this.gl,r=this.shaderPrograms.get(e);if(!r)throw new i.AuraError({class:"Renderer",method:"useShaderProgram",message:"Failed to switch to Shader Program with name '".concat(e,"'")});t.useProgram(r.program),this.activeShaderProgram=r},e.prototype.useVBO=function(e){var t,r,o,a,s=this.gl,u=this.vbos.get(e.name);if(!u)throw new i.AuraError({class:"Renderer",method:"useVBO",message:"Failed to switch to VBO with name '".concat(e.name,"'")});s.bindBuffer(s.ARRAY_BUFFER,u),e.changed&&s.bufferData(s.ARRAY_BUFFER,e.vertices,s.DYNAMIC_DRAW);var c=0;try{for(var l=n(null!==(a=null===(o=this.activeShaderProgram)||void 0===o?void 0:o.attributeLocations)&&void 0!==a?a:[]),f=l.next();!f.done;f=l.next()){var d=f.value;s.enableVertexAttribArray(d.location),s.vertexAttribPointer(d.location,d.size,s.FLOAT,!1,4*e.vertexSize,c),c+=4*d.size}}catch(e){t={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}this.activeVBOName=e.name},e.prototype.useTexture=function(e){var t=this.gl,r=this.textures.get(e);if(!r)throw new i.AuraError({class:"Renderer",method:"useTexture",message:"Failed to switch to Texture with name '".concat(e,"'")});t.activeTexture(r.unit),t.bindTexture(t.TEXTURE_2D,r.texture),this.activeTexture=r},e.prototype.loadUniform=function(e,t,r){var n=this.gl;switch(t){case s.UniformType.VEC2:n.uniform2fv(e,r);break;case s.UniformType.VEC3:n.uniform3fv(e,r);break;case s.UniformType.VEC4:n.uniform4fv(e,r);break;case s.UniformType.MAT3:n.uniformMatrix3fv(e,!1,r);break;case s.UniformType.MAT4:n.uniformMatrix4fv(e,!1,r);break;case s.UniformType.INTEGER:n.uniform1i(e,r);break;case s.UniformType.FLOAT:n.uniform1f(e,r)}},e.prototype.imageIsSameOrigin=function(e){return new URL(e,window.location.href).origin===window.location.origin},e}();t.Renderer=c},7948:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FragmentShader=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this.config.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.config.uniforms},enumerable:!1,configurable:!0}),e}();t.FragmentShader=r},4450:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_BASIC=void 0;var n=r(5047),o=r(8488),i=r(7948);t.FRAGMENT_BASIC=new i.FragmentShader({name:"fragment_basic",source:"\n        precision mediump float;\n\n        uniform vec4 u_Color;\n\n        void main() {\n            gl_FragColor = u_Color;\n        }\n    ",uniforms:[{name:"u_Color",type:n.UniformType.VEC4,variation:o.UniformVariation.ENTITY}]})},1814:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_COLOR_PER_VERTEX=void 0;var n=r(7948);t.FRAGMENT_COLOR_PER_VERTEX=new n.FragmentShader({name:"fragment_color_per_vertex",source:"\n        precision mediump float;\n\n        varying vec4 v_Color;\n\n        void main() {\n            gl_FragColor = v_Color;\n        }\n    ",uniforms:[]})},4355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_TEXTURE=void 0;var n=r(5047),o=r(8488),i=r(7948);t.FRAGMENT_TEXTURE=new i.FragmentShader({name:"fragment_texture",source:"\n        precision mediump float;\n\n        uniform sampler2D u_Texture;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            gl_FragColor = texture2D(u_Texture, v_TexCoord);\n        }\n    ",uniforms:[{name:"u_Texture",type:n.UniformType.INTEGER,variation:o.UniformVariation.STATIC}]})},7141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FRAGMENT_TEXTURE_COLORED=void 0;var n=r(5047),o=r(8488),i=r(7948);t.FRAGMENT_TEXTURE_COLORED=new i.FragmentShader({name:"fragment_texture_colored",source:"\n        precision mediump float;\n\n        uniform sampler2D u_Texture;\n        uniform vec4 u_Color;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            gl_FragColor = texture2D(u_Texture, v_TexCoord) * u_Color;\n        }\n    ",uniforms:[{name:"u_Texture",type:n.UniformType.INTEGER,variation:o.UniformVariation.STATIC},{name:"u_Color",type:n.UniformType.VEC4,variation:o.UniformVariation.ENTITY}]})},4623:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_BASIC=void 0;var n=r(4450),o=r(2932),i=r(9240);t.PROGRAM_BASIC=new i.ShaderProgram({name:"program_basic",vertex:o.VERTEX_BASIC,fragment:n.FRAGMENT_BASIC})},9637:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_COLOR_PER_VERTEX=void 0;var n=r(1814),o=r(9908),i=r(9240);t.PROGRAM_COLOR_PER_VERTEX=new i.ShaderProgram({name:"program_color_per_vertex",vertex:o.VERTEX_COLOR_PER_VERTEX,fragment:n.FRAGMENT_COLOR_PER_VERTEX})},7455:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE=void 0;var n=r(4355),o=r(1187),i=r(9240);t.PROGRAM_TEXTURE=new i.ShaderProgram({name:"program_texture",vertex:o.VERTEX_TEXTURE,fragment:n.FRAGMENT_TEXTURE})},1805:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROGRAM_TEXTURE_COLORED=void 0;var n=r(7141),o=r(1187),i=r(9240);t.PROGRAM_TEXTURE_COLORED=new i.ShaderProgram({name:"program_texture_colored",vertex:o.VERTEX_TEXTURE,fragment:n.FRAGMENT_TEXTURE_COLORED})},9240:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderProgram=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this.config.fragment},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertex",{get:function(){return this.config.vertex},enumerable:!1,configurable:!0}),e}();t.ShaderProgram=r},4797:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderVariableResolver=void 0;var n=r(7350),o=function(){function e(){}return e.resolveAttribute=function(t,r){var o=e.ENTITY_ATTRIBUTE_MAPPINGS.get(t);if(!o)throw new n.AuraError({class:"ShaderVariableResolver",method:"resolveAttribute",message:"\n                    Failed to retrieve value for attribute name '".concat(t,"' : no resolution function exists for this variable\n                ")});return o(r)},e.resolveEntityUniform=function(t,r){var o=e.ENTITY_UNIFORM_MAPPINGS.get(t);if(!o)throw new n.AuraError({class:"ShaderVariableResolver",method:"resolveEntityUniform",message:"\n                    Failed to retrieve value for uniform name '".concat(t,"' : no resolution function exists for this variable\n                ")});return o(r)},e.resolveStaticUniform=function(t,r){var o=e.STATIC_UNIFORM_MAPPINGS.get(t);if(!o)throw new n.AuraError({class:"ShaderVariableResolver",method:"resolveStaticUniform",message:"\n                    Failed to retrieve value for uniform name '".concat(t,"' : no resolution function exists for this variable\n                ")});return o(r)},e.registerAttributeResolver=function(t,r){if(e.ENTITY_ATTRIBUTE_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"registerAttributeResolver",message:"\n                    Failed to register resolution function for attribute name '".concat(t,"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideAttributeResolver()'\n                ")});e.ENTITY_ATTRIBUTE_MAPPINGS.set(t,r)},e.registerEntityUniformResolver=function(t,r){if(e.ENTITY_UNIFORM_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"registerEntityUniformResolver",message:"\n                    Failed to register entity resolution function for uniform name '".concat(t,"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideEntityUniformResolver()'\n                ")});e.ENTITY_UNIFORM_MAPPINGS.set(t,r)},e.registerStaticUniformResolver=function(t,r){if(e.STATIC_UNIFORM_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"registerStaticUniformResolver",message:"\n                    Failed to register static resolution function for uniform name '".concat(t,"' : this variable is already registered.\n                    Override existing resolution functions with 'overrideStaticUniformResolver()'\n                ")});e.STATIC_UNIFORM_MAPPINGS.set(t,r)},e.overrideAttributeResolver=function(t,r){if(!e.ENTITY_ATTRIBUTE_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"overrideAttributeResolver",message:"\n                    Failed to override resolution function for attribute name '".concat(t,"' : this variable is not already registered.\n                    Add new resolution functions with 'registerAttributeResolver()'\n                ")});e.ENTITY_ATTRIBUTE_MAPPINGS.set(t,r)},e.overrideEntityUniformResolver=function(t,r){if(!e.ENTITY_UNIFORM_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"overrideEntityUniformResolver",message:"\n                    Failed to override entity resolution function for uniform name '".concat(t,"' : this variable is not already\n                    registered.\n                    Add new resolution functions with 'registerEntityUniformResolver()'\n                ")});e.ENTITY_UNIFORM_MAPPINGS.set(t,r)},e.overrideStaticUniformResolver=function(t,r){if(!e.STATIC_UNIFORM_MAPPINGS.get(t))throw new n.AuraError({class:"ShaderVariableResolver",method:"overrideStaticUniformResolver",message:"\n                    Failed to override static resolution function for uniform name '".concat(t,"' : this variable is not already\n                    registered.\n                    Add new resolution functions with 'registerStaticUniformResolver()'\n                ")});e.STATIC_UNIFORM_MAPPINGS.set(t,r)},e.ENTITY_ATTRIBUTE_MAPPINGS=new Map([["a_Position",function(e){return e.getComponent("Model").vertices}],["a_Color",function(e){return e.getComponent("FlatColor").color.float32Array}],["a_VertexColor",function(e){return e.getComponent("MultiColor").nextColor().float32Array}],["a_TexCoord",function(e){return e.getComponent("Model").textureCoordinates}]]),e.ENTITY_UNIFORM_MAPPINGS=new Map([["u_Transform2D",function(e){return e.getComponent("Transform").compute().float32Array}],["u_Transform3D",function(e){return e.getComponent("Transform").compute().float32Array}],["u_Color",function(e){return e.getComponent("FlatColor").color.float32Array}]]),e.STATIC_UNIFORM_MAPPINGS=new Map([["u_Projection",function(e){return e.world.activeCamera.projection.float32Array}],["u_View",function(e){return e.world.activeCamera.getViewMatrix().float32Array}],["u_Texture",function(e){return e.renderer.activeTextureUnit}]]),e}();t.ShaderVariableResolver=o},5047:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UniformType=void 0,(r=t.UniformType||(t.UniformType={})).VEC2="vec2",r.VEC3="vec3",r.VEC4="vec4",r.MAT3="mat3",r.MAT4="mat4",r.INTEGER="integer",r.FLOAT="float"},8488:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UniformVariation=void 0,(r=t.UniformVariation||(t.UniformVariation={})).STATIC="static",r.ENTITY="entity"},2932:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_BASIC=void 0;var n=r(5047),o=r(8488),i=r(5149);t.VERTEX_BASIC=new i.VertexShader({name:"vertex_basic",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n\n        void main() {\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},9908:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_COLOR_PER_VERTEX=void 0;var n=r(5047),o=r(8488),i=r(5149);t.VERTEX_COLOR_PER_VERTEX=new i.VertexShader({name:"vertex_color_per_vertex",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n        attribute vec4 a_VertexColor;\n\n        varying vec4 v_Color;\n\n        void main() {\n            v_Color = a_VertexColor;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3},{name:"a_VertexColor",size:4}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},1187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERTEX_TEXTURE=void 0;var n=r(5047),o=r(8488),i=r(5149);t.VERTEX_TEXTURE=new i.VertexShader({name:"vertex_texture",source:"\n        precision mediump float;\n\n        uniform mat4 u_Transform3D;\n        uniform mat4 u_Projection;\n        uniform mat4 u_View;\n\n        attribute vec3 a_Position;\n        attribute vec2 a_TexCoord;\n\n        varying vec2 v_TexCoord;\n\n        void main() {\n            v_TexCoord = a_TexCoord;\n\n            gl_PointSize = 1.0;\n\n            gl_Position = u_Projection * u_View * u_Transform3D * vec4(a_Position, 1.0);\n        }\n    ",attributes:[{name:"a_Position",size:3},{name:"a_TexCoord",size:2}],uniforms:[{name:"u_Transform3D",type:n.UniformType.MAT4,variation:o.UniformVariation.ENTITY},{name:"u_Projection",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC},{name:"u_View",type:n.UniformType.MAT4,variation:o.UniformVariation.STATIC}]})},5149:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VertexShader=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this.config.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.config.attributes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.config.uniforms},enumerable:!1,configurable:!0}),e}();t.VertexShader=r},4026:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(1778).StateBase);t.State=i},1778:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StateBase=void 0;var r=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.config.name},enumerable:!1,configurable:!0}),e.prototype.init=function(e){var t,r;null===(r=(t=this.config).init)||void 0===r||r.call(t,e)},e.prototype.tick=function(e,t){this.config.tick(e,t)},e.prototype.end=function(e){var t,r;null===(r=(t=this.config).end)||void 0===r||r.call(t,e)},e}();t.StateBase=r},8691:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Physics=void 0;var a=r(9037),s=function(e){function t(){return e.call(this,"Physics")||this}return o(t,e),t.prototype.tick=function(e,t){var r,n,o=e.world.filterEntitiesByComponentName("Transform");try{for(var s=i(o),u=s.next();!u.done;u=s.next()){var c=u.value.getComponent("Transform");c.move(a.Vec3.scale(c.velocity,t/1e3))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}},t}(r(2898).System);t.Physics=s},2898:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(9144).SystemBase);t.System=i},9144:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SystemBase=void 0;t.SystemBase=function(e){this.name=e}},4371:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Char3D=void 0;var i=r(7515),a=r(3300),s=r(4496),u=r(7027),c=r(4794),l=r(3493),f=r(7005),d=r(1805),p=function(e){function t(t,r,n,o){return e.call(this,{tag:"char",components:[new i.Transform(t,r),new u.Shader(d.PROGRAM_TEXTURE_COLORED),new s.Model(f.CUBE),new c.Texture(n.x,n.y),new a.FlatColor(o)]})||this}return o(t,e),t}(l.Entity);t.Char3D=p},7147:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;var u=r(2250),c=r(9037),l=r(4307),f=r(4371),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addString=function(e,t,r,n){var o,l,d=[],p=0;try{for(var h=i(e),y=h.next();!y.done;y=h.next()){var m=y.value;d.push(new f.Char3D(c.Vec3.add(t,new c.Vec3(p*r.x,0,0)),r,new u.Vec2(this.config.charset.indexOf(m.toUpperCase()),0),n)),p++}}catch(e){o={error:e}}finally{try{y&&!y.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}this.addEntities.apply(this,s([],a(d),!1))},t}(l.TextManager);t.Text=d},4307:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextManager=void 0;var a=function(e){function t(t){return e.call(this,i({name:"font"},t))||this}return o(t,e),t}(r(5175).EntityManager);t.TextManager=a},3368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextureAtlas=void 0;var r=function(){function e(e,t,r,n,o,i){this.name=e,this.src=t,this.width=r,this.height=n,this.columns=o,this.rows=i}return e.prototype.resolveTextureCoordinates=function(e,t,r,n,o){var i=(t+e[0])*(n/this.columns)-(n-1)/this.columns*t,a=1-((r+e[1])*(o/this.rows)-(o-1)/this.rows*r),s=(i*this.width+.5-1)/this.width;s<0&&(s=(i*this.width+.5)/this.width);var u=(a*this.height+.5-1)/this.height;return u<0&&(u=(a*this.height+.5)/this.height),Float32Array.from([s,u])},e}();t.TextureAtlas=r},6896:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Panel=void 0;var i=r(7515),a=r(3300),s=r(4496),u=r(7027),c=r(3493),l=r(7005),f=r(4623),d=function(e){function t(t,r,n){return e.call(this,{tag:"panel",components:[new i.Transform(t,r),new u.Shader(f.PROGRAM_BASIC),new s.Model(l.CUBE),new a.FlatColor(n)]})||this}return o(t,e),t}(c.Entity);t.Panel=d},8836:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;var i=r(352),a=r(6896),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addPanel=function(e,t,r){this.addEntity(new a.Panel(e,t,r))},t}(i.UIManager);t.UI=s},352:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.UIManager=void 0;var a=function(e){function t(t){return e.call(this,i({name:"ui"},t))||this}return o(t,e),t}(r(5175).EntityManager);t.UIManager=a},6823:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.World=void 0;var i=r(7692),a=r(7350),s=function(e){function t(t){var r=e.call(this,t)||this;r.cameras=new Map;var n=new i.Camera({name:"default",offset:t.camera.offset,projection:t.camera.projection});return r.addCamera(n),r.activeCamera=n,r}return o(t,e),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this.config.dimensions},enumerable:!1,configurable:!0}),t.prototype.addCamera=function(e){this.cameras.set(e.name,e)},t.prototype.getCamera=function(e){var t=this.cameras.get(e);if(!t)throw new a.AuraError({class:"World",method:"getCamera",message:"Failed to retrieve 3D Camera with name ".concat(e)});return t},t}(r(4658).WorldManager);t.World=s},4658:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorldManager=void 0;var a=r(7350),s=function(e){function t(t){return e.call(this,i({name:"world"},t))||this}return o(t,e),t.prototype.removeCamera=function(e){this.cameras.delete(e)},t.prototype.switchToCamera=function(e){var t=this.cameras.get(e);if(!t)throw new a.AuraError({class:"World",method:"switchToCamera",message:"Failed to switch to Camera with name ".concat(e)});this.activeCamera=t},t}(r(5175).EntityManager);t.WorldManager=s},2655:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Axis=void 0;var i=r(2720),a=function(e){function t(t,r){var n,o,a;switch(t){case"x":n=o=a=0;break;case"y":n=o=0,a=i.Angle.toRadians(90);break;case"z":n=a=0,o=i.Angle.toRadians(90)}return e.call(this,{tag:"axis",components:[new i.Transform(new i.Vec3,new i.Vec3(r,1,1),new i.Vec3(n,o,a)),new i.Model(i.Geometries.LINE),new i.Shader(i.ShaderPrograms.BASIC),new i.FlatColor(i.Color.white())]})||this}return o(t,e),t}(i.Entity);t.Axis=a},6845:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0,t.Shape=void 0;var i=r(2720),a=function(e){function t(t,r,n){void 0===r&&(r=new i.Vec3),void 0===n&&(n=100);var o=e.call(this,{tag:"shape",components:[new i.Transform(r,new i.Vec3(n,n,n)),new i.Model(t),new i.Shader(i.ShaderPrograms.COLOR_PER_VERTEX),new i.MultiColor(i.Color.randomList(30))]})||this;return o.rotations=[i.Angle.toRadians(i.Random.between(-3,3)),i.Angle.toRadians(i.Random.between(-3,3)),i.Angle.toRadians(i.Random.between(-3,3))],o}return o(t,e),t.prototype.tick=function(){this.getComponent("Transform").rotate(new i.Vec3(this.rotations[0],this.rotations[1],this.rotations[2]))},t}(i.Entity);t.Shape=a},2019:(e,t,r)=>{t.__esModule=!0,t.MAIN_STATE=void 0;var n=r(2720),o=r(2655),i=r(6845);t.MAIN_STATE=new n.State({name:"shapes",init:function(e){e.world.activeCamera.moveForward(-9e4),e.world.activeCamera.moveRight(-5e4),e.world.activeCamera.rotateY(n.Angle.toRadians(-45)),e.world.activeCamera.rotateX(n.Angle.toRadians(-45));for(var t=1e4,r=[n.Geometries.CUBE,n.Geometries.F,n.Geometries.LINE,n.Geometries.OCTAHEDRON,n.Geometries.PRISM_HEXAGONAL,n.Geometries.PRISM_TRIANGULAR,n.Geometries.PYRAMID_HEXAGONAL,n.Geometries.PYRAMID_SQUARE,n.Geometries.TETRAHEDRON,n.Geometries.Wireframe.CUBE,n.Geometries.Wireframe.F,n.Geometries.Wireframe.OCTAHEDRON,n.Geometries.Wireframe.PRISM_HEXAGONAL,n.Geometries.Wireframe.PRISM_TRIANGULAR,n.Geometries.Wireframe.PYRAMID_HEXAGONAL,n.Geometries.Wireframe.PYRAMID_SQUARE,n.Geometries.Wireframe.TETRAHEDRON],a=-e.world.dimensions.x/2;a<=e.world.dimensions.x/2;a+=t)for(var s=-e.world.dimensions.y/2;s<=e.world.dimensions.y/2;s+=t)for(var u=-e.world.dimensions.z/10;u<=e.world.dimensions.z/10;u+=t){var c=r[Math.floor(n.Random.between(0,r.length))];e.world.addEntity(new i.Shape(c,new n.Vec3(a,s,u),2500))}e.world.addEntity(new o.Axis("x",e.world.dimensions.x)),e.world.addEntity(new o.Axis("y",e.world.dimensions.y)),e.world.addEntity(new o.Axis("z",e.world.dimensions.z))},end:function(){},tick:function(e){var t=e.world.activeCamera,r=n.Angle.toRadians(.5);e.input.isKeyDown(n.Keys.A)?t.moveRight(-200):e.input.isKeyDown(n.Keys.D)&&t.moveRight(200),e.input.isKeyDown(n.Keys.W)?t.moveForward(200):e.input.isKeyDown(n.Keys.S)&&t.moveForward(-200),e.input.isKeyDown(n.Keys.Q)?t.moveUp(-200):e.input.isKeyDown(n.Keys.E)&&t.moveUp(200),e.input.isKeyDown(n.Keys.J)?t.rotateY(r):e.input.isKeyDown(n.Keys.L)&&t.rotateY(-r),e.input.isKeyDown(n.Keys.I)?t.rotateX(r):e.input.isKeyDown(n.Keys.K)&&t.rotateX(-r),e.input.isKeyDown(n.Keys.U)?t.rotateZ(-r):e.input.isKeyDown(n.Keys.O)&&t.rotateZ(r)}})}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}e=i(2720),t=i(2019),(r=new e.Game({canvasDimensions:new e.Vec2(1024,768),world:{dimensions:new e.Vec3(102400,76800,1e6)}})).registerShader(e.ShaderPrograms.BASIC),r.registerShader(e.ShaderPrograms.COLOR_PER_VERTEX),r.addState(t.MAIN_STATE),r.start(t.MAIN_STATE.name)})();